import React from "react";
import ReactDOM from "react-dom";
import App from "./src/app.jsx";
import Context from "./src/models.js";

const store = window.store;
const context = new Context(store);

// TESTING
const TESTING_STATE = JSON.parse('{"conditionals":{"1":{"id":1,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[2,3,4],"antecedent_disjunction_ids":[],"consequent_ids":[5],"consequent_disjunction_ids":[],"antecedent_truth_values":{"2":true,"3":true,"4":true},"consequent_truth_values":{"5":true},"disjunction_truth_values":{}},"2":{"id":2,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[2],"antecedent_disjunction_ids":[],"consequent_ids":[],"consequent_disjunction_ids":[2],"antecedent_truth_values":{"2":false},"consequent_truth_values":{},"disjunction_truth_values":{"2":true}},"3":{"id":3,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[7],"antecedent_disjunction_ids":[],"consequent_ids":[8],"consequent_disjunction_ids":[],"antecedent_truth_values":{"7":true},"consequent_truth_values":{"8":true},"disjunction_truth_values":{}},"4":{"id":4,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[8],"antecedent_disjunction_ids":[],"consequent_ids":[9,10,11,12],"consequent_disjunction_ids":[],"antecedent_truth_values":{"8":true},"consequent_truth_values":{"9":false,"10":false,"11":false,"12":false},"disjunction_truth_values":{}},"5":{"id":5,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[3],"antecedent_disjunction_ids":[],"consequent_ids":[13],"consequent_disjunction_ids":[],"antecedent_truth_values":{"3":false},"consequent_truth_values":{"13":false},"disjunction_truth_values":{}},"6":{"id":6,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[13],"antecedent_disjunction_ids":[],"consequent_ids":[],"consequent_disjunction_ids":[3],"antecedent_truth_values":{"13":false},"consequent_truth_values":{},"disjunction_truth_values":{"3":true}},"7":{"id":7,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[14],"antecedent_disjunction_ids":[],"consequent_ids":[],"consequent_disjunction_ids":[4],"antecedent_truth_values":{"14":true},"consequent_truth_values":{},"disjunction_truth_values":{"4":true}},"8":{"id":8,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[17],"antecedent_disjunction_ids":[],"consequent_ids":[13,14,19],"consequent_disjunction_ids":[],"antecedent_truth_values":{"17":true},"consequent_truth_values":{"13":false,"14":true,"19":false},"disjunction_truth_values":{}},"9":{"id":9,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[18],"antecedent_disjunction_ids":[],"consequent_ids":[20],"consequent_disjunction_ids":[],"antecedent_truth_values":{"18":true},"consequent_truth_values":{"20":true},"disjunction_truth_values":{}},"10":{"id":10,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[15],"antecedent_disjunction_ids":[],"consequent_ids":[3,9,10,11,12],"consequent_disjunction_ids":[],"antecedent_truth_values":{"15":true},"consequent_truth_values":{"3":false,"9":false,"10":false,"11":false,"12":false},"disjunction_truth_values":{}},"11":{"id":11,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[16],"antecedent_disjunction_ids":[],"consequent_ids":[3,9,10,11,12],"consequent_disjunction_ids":[],"antecedent_truth_values":{"16":true},"consequent_truth_values":{"3":false,"9":false,"10":false,"11":false,"12":false},"disjunction_truth_values":{}},"12":{"id":12,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[21,22],"antecedent_disjunction_ids":[],"consequent_ids":[5],"consequent_disjunction_ids":[],"antecedent_truth_values":{"21":true,"22":true},"consequent_truth_values":{"5":false},"disjunction_truth_values":{}},"13":{"id":13,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[22,23,24,25],"antecedent_disjunction_ids":[],"consequent_ids":[26],"consequent_disjunction_ids":[],"antecedent_truth_values":{"22":true,"23":true,"24":true,"25":true},"consequent_truth_values":{"26":false},"disjunction_truth_values":{}},"14":{"id":14,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[26],"antecedent_disjunction_ids":[],"consequent_ids":[7,14,15,16,17,18],"consequent_disjunction_ids":[],"antecedent_truth_values":{"26":false},"consequent_truth_values":{"7":false,"14":false,"15":false,"16":false,"17":false,"18":false},"disjunction_truth_values":{}},"15":{"id":15,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[22,23,24,27],"antecedent_disjunction_ids":[],"consequent_ids":[28],"consequent_disjunction_ids":[],"antecedent_truth_values":{"22":true,"23":true,"24":true,"27":true},"consequent_truth_values":{"28":false},"disjunction_truth_values":{}},"16":{"id":16,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[28],"antecedent_disjunction_ids":[],"consequent_ids":[7,15,16,18,20],"consequent_disjunction_ids":[],"antecedent_truth_values":{"28":false},"consequent_truth_values":{"7":false,"15":false,"16":false,"18":false,"20":false},"disjunction_truth_values":{}},"17":{"id":17,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[2],"antecedent_disjunction_ids":[],"consequent_ids":[6],"consequent_disjunction_ids":[],"antecedent_truth_values":{"2":true},"consequent_truth_values":{"6":false},"disjunction_truth_values":{}},"18":{"id":18,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[14],"antecedent_disjunction_ids":[],"consequent_ids":[13],"consequent_disjunction_ids":[],"antecedent_truth_values":{"14":true},"consequent_truth_values":{"13":false},"disjunction_truth_values":{}},"19":{"id":19,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[6],"antecedent_disjunction_ids":[],"consequent_ids":[2],"consequent_disjunction_ids":[],"antecedent_truth_values":{"6":true},"consequent_truth_values":{"2":false},"disjunction_truth_values":{}},"20":{"id":20,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[5],"antecedent_disjunction_ids":[],"consequent_ids":[19],"consequent_disjunction_ids":[],"antecedent_truth_values":{"5":false},"consequent_truth_values":{"19":false},"disjunction_truth_values":{}},"21":{"id":21,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[14,20],"antecedent_disjunction_ids":[],"consequent_ids":[19],"consequent_disjunction_ids":[],"antecedent_truth_values":{"14":true,"20":false},"consequent_truth_values":{"19":false},"disjunction_truth_values":{}},"22":{"id":22,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[9],"antecedent_disjunction_ids":[],"consequent_ids":[10,11,12],"consequent_disjunction_ids":[],"antecedent_truth_values":{"9":true},"consequent_truth_values":{"10":true,"11":true,"12":true},"disjunction_truth_values":{}},"23":{"id":23,"truth_value":false,"created_at":"2018-09-09 23:32:01 UTC","updated_at":"2018-09-09 23:32:01 UTC","antecedent_ids":[12],"antecedent_disjunction_ids":[],"consequent_ids":[11],"consequent_disjunction_ids":[],"antecedent_truth_values":{"12":true},"consequent_truth_values":{"11":true},"disjunction_truth_values":{}},"-23":{"id":-23,"truth_value":true,"consequent_disjunction_ids":[-3],"antecedent_ids":[26],"antecedent_disjunction_ids":[],"antecedent_truth_values":{"26":false}},"-24":{"id":-24,"truth_value":true,"consequent_disjunction_ids":[-4],"antecedent_ids":[26],"antecedent_disjunction_ids":[],"antecedent_truth_values":{"26":false}},"-25":{"id":-25,"truth_value":true,"consequent_disjunction_ids":[-5],"antecedent_ids":[26],"antecedent_disjunction_ids":[],"antecedent_truth_values":{"26":false}},"-26":{"id":-26,"truth_value":true,"consequent_disjunction_ids":[-6],"antecedent_ids":[26],"antecedent_disjunction_ids":[],"antecedent_truth_values":{"26":false}},"-27":{"id":-27,"truth_value":true,"consequent_disjunction_ids":[-7],"antecedent_ids":[5],"antecedent_disjunction_ids":[],"antecedent_truth_values":{"5":false}},"-28":{"id":-28,"truth_value":true,"consequent_disjunction_ids":[-8],"antecedent_ids":[26],"antecedent_disjunction_ids":[],"antecedent_truth_values":{"26":false}},"-29":{"id":-29,"truth_value":true,"consequent_disjunction_ids":[-9],"antecedent_ids":[26],"antecedent_disjunction_ids":[],"antecedent_truth_values":{"26":false}},"-30":{"id":-30,"truth_value":true,"consequent_disjunction_ids":[-10],"antecedent_ids":[5],"antecedent_disjunction_ids":[],"antecedent_truth_values":{"5":false}}},"disjunctions":{"2":{"id":2,"created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","disjunct_ids":[6,7],"disjunct_truth_values":{"6":true,"7":true},"antecedent_ids":[],"consequent_ids":[2],"truth_value":true,"user":true},"3":{"id":3,"created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","disjunct_ids":[14,15,16],"disjunct_truth_values":{"14":true,"15":true,"16":true},"antecedent_ids":[],"consequent_ids":[6],"truth_value":true,"user":true},"4":{"id":4,"created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","disjunct_ids":[17,18],"disjunct_truth_values":{"17":true,"18":true},"antecedent_ids":[],"consequent_ids":[7],"truth_value":true,"user":true},"-3":{"id":-3,"disjunct_ids":[22,23,24,25],"antecedent_ids":[],"consequent_ids":[-23],"disjunct_truth_values":{"22":false,"23":false,"24":false,"25":false}},"-4":{"id":-4,"disjunct_ids":[22,23,24,25],"antecedent_ids":[],"consequent_ids":[-24],"disjunct_truth_values":{"22":false,"23":false,"24":false,"25":false}},"-5":{"id":-5,"disjunct_ids":[22,23,24,25],"antecedent_ids":[],"consequent_ids":[-25],"disjunct_truth_values":{"22":false,"23":false,"24":false,"25":false}},"-6":{"id":-6,"disjunct_ids":[22,23,24,25],"antecedent_ids":[],"consequent_ids":[-26],"disjunct_truth_values":{"22":false,"23":false,"24":false,"25":false}},"-7":{"id":-7,"disjunct_ids":[21,22],"antecedent_ids":[],"consequent_ids":[-27],"disjunct_truth_values":{"21":false,"22":false}},"-8":{"id":-8,"disjunct_ids":[22,23,24,25],"antecedent_ids":[],"consequent_ids":[-28],"disjunct_truth_values":{"22":false,"23":false,"24":false,"25":false}},"-9":{"id":-9,"disjunct_ids":[22,23,24,25],"antecedent_ids":[],"consequent_ids":[-29],"disjunct_truth_values":{"22":false,"23":false,"24":false,"25":false}},"-10":{"id":-10,"disjunct_ids":[21,22],"antecedent_ids":[],"consequent_ids":[-30],"disjunct_truth_values":{"21":false,"22":false}}},"propositions":{"2":{"id":2,"statement":"every phenomenal property is relevant to causally explaining some caused event with physical properties","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[1,2,17],"consequent_ids":[19],"disjunction_ids":[],"truth_value":false,"user":false},"3":{"id":3,"statement":"every property relevant to causally explaining caused events with physical properties is itself fully grounded in physical properties","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[1,5],"consequent_ids":[10,11],"disjunction_ids":[],"truth_value":false,"user":true},"4":{"id":4,"statement":"every truth about consciousness is a truth about phenomenal properties","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[1],"consequent_ids":[],"disjunction_ids":[],"truth_value":false,"user":true},"5":{"id":5,"statement":"every truth about consciousness is fully grounded in truths about physical properties","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[20],"consequent_ids":[1,12],"disjunction_ids":[],"truth_value":true,"user":true,"contradiction":true,"origPropId":21},"6":{"id":6,"statement":"there is a phenomenal property F such that it is not the case that F is relevant to causally explaining any caused event","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[19],"consequent_ids":[17],"disjunction_ids":[2],"truth_value":true,"user":true},"7":{"id":7,"statement":"there is a phenomenal property F such that F is relevant to causally explaining some caused event with purely non-physical properties","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[3],"consequent_ids":[14,16],"disjunction_ids":[2],"truth_value":false,"user":false},"8":{"id":8,"statement":"there are events with purely non-physical properties","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[4],"consequent_ids":[3],"disjunction_ids":[],"truth_value":false,"user":false},"9":{"id":9,"statement":"every world which is a physical duplicate of the actual world w is a duplicate of w simpliciter","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[22],"consequent_ids":[4,10,11],"disjunction_ids":[],"truth_value":true,"user":true},"10":{"id":10,"statement":"for every particular x (event, object, process, etc), there is some physical particular y such that x is identical to y","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[],"consequent_ids":[4,10,11,22],"disjunction_ids":[],"truth_value":true,"user":false},"11":{"id":11,"statement":"for every instantiated property F, there is some physical property G such that F is identical to G","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[],"consequent_ids":[4,10,11,22,23],"disjunction_ids":[],"truth_value":true,"user":false},"12":{"id":12,"statement":"every instantiated property is either identical to a physical property or fully grounded in a physical property","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[23],"consequent_ids":[4,10,11,22],"disjunction_ids":[],"truth_value":true,"user":false},"13":{"id":13,"statement":"every caused event with physical properties has a full causal explanation in purely physical terms","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[6],"consequent_ids":[5,8,18],"disjunction_ids":[],"truth_value":false,"user":false},"14":{"id":14,"statement":"there is a caused event with physical properties that has no full causal explanation","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[7,18,21],"consequent_ids":[8,14],"disjunction_ids":[3],"truth_value":true,"user":true},"15":{"id":15,"statement":"there is a caused event with physical properties such that it has a full causal explanation and any full causal explanation of it is in partially non-physical terms","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[10],"consequent_ids":[14,16],"disjunction_ids":[3],"truth_value":false,"user":false},"16":{"id":16,"statement":"there is a caused event with physical properties that has a full causal explanation in purely non-physical terms","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[11],"consequent_ids":[14,16],"disjunction_ids":[3],"truth_value":false,"user":false},"17":{"id":17,"statement":"there is a caused event with physical properties that has no full explanation","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[8],"consequent_ids":[14],"disjunction_ids":[4],"truth_value":true,"user":true},"18":{"id":18,"statement":"there is a caused event with physical properties such that it has a full explanation and any full explanation of it is in partially non-causal terms","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[9],"consequent_ids":[14,16],"disjunction_ids":[4],"truth_value":false,"user":false},"19":{"id":19,"statement":"every event has a full explanation","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[],"consequent_ids":[8,20,21],"disjunction_ids":[],"truth_value":false,"user":false},"20":{"id":20,"statement":"there are non-causal explanations","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[21],"consequent_ids":[9,16],"disjunction_ids":[],"truth_value":false,"user":false},"21":{"id":21,"statement":"the conjunction of all of the truths about microphysical properties and the negation of some truth about phenomenal properties is conceivable","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[12],"consequent_ids":[],"disjunction_ids":[],"truth_value":true,"user":true},"22":{"id":22,"statement":"if p is conceivable, then p is metaphysically possible","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[12,13,15],"consequent_ids":[],"disjunction_ids":[],"truth_value":true,"user":true},"23":{"id":23,"statement":"every event is distinct","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[13,15],"consequent_ids":[],"disjunction_ids":[],"truth_value":false,"user":true},"24":{"id":24,"statement":"it is conceivable that for every distinct event e beginning at time t, there are two worlds w1 and w2 which are identical up until t where, in w1, e occurs, while in w2, e does not occur","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[13,15],"consequent_ids":[],"disjunction_ids":[],"truth_value":true,"user":true},"25":{"id":25,"statement":"every causal relation is a metaphysically necessary relation","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[13],"consequent_ids":[],"disjunction_ids":[],"truth_value":true,"user":true},"26":{"id":26,"statement":"there are causal relations","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[14],"consequent_ids":[13],"disjunction_ids":[],"truth_value":true,"user":false},"27":{"id":27,"statement":"every explanation is a metaphysically necessary relation","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[15],"consequent_ids":[],"disjunction_ids":[],"truth_value":true,"user":true},"28":{"id":28,"statement":"there are explanations","created_at":"2018-09-09 23:32:00 UTC","updated_at":"2018-09-09 23:32:00 UTC","antecedent_ids":[16],"consequent_ids":[15],"disjunction_ids":[],"truth_value":false,"user":true}}}')
// const context = new Context(TESTING_STATE);

ReactDOM.render(<App context={context} />, document.getElementById("root"));

window.getPwithSI = (state) => {
  const propositions = state.propositions
  const results = []
  for(let propId in propositions) {
    const prop = propositions[propId]
    if (prop.sourceIds) results.push(prop)
  }

  return results
}
